{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 125, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ANKIT/Desktop/testing%20projects/screenshare/app/viewer/page.tsx"],"sourcesContent":["'use client';\r\nimport { useEffect, useRef } from 'react';\r\nimport io from 'socket.io-client';\r\n\r\nexport default function Viewer() {\r\n  const socket = useRef<any>(null);\r\n  const pc = useRef<RTCPeerConnection | null>(null);\r\n  const videoRef = useRef<HTMLVideoElement>(null);\r\n\r\n  useEffect(() => {\r\n    socket.current = io('http://localhost:3001');\r\n\r\n    socket.current.on('offer', async (offer: RTCSessionDescriptionInit) => {\r\n      pc.current = new RTCPeerConnection();\r\n\r\n      pc.current.ontrack = (event) => {\r\n        if (videoRef.current) videoRef.current.srcObject = event.streams[0];\r\n      };\r\n\r\n      pc.current.onicecandidate = e => {\r\n        if (e.candidate) {\r\n          socket.current.emit('ice-candidate', e.candidate);\r\n        }\r\n      };\r\n\r\n      await pc.current.setRemoteDescription(offer);\r\n      const answer = await pc.current.createAnswer();\r\n      await pc.current.setLocalDescription(answer);\r\n      socket.current.emit('answer', answer);\r\n    });\r\n\r\n    socket.current.on('ice-candidate', async (candidate: RTCIceCandidateInit) => {\r\n      try {\r\n        await pc.current?.addIceCandidate(candidate);\r\n      } catch (err) {\r\n        console.error('Error adding ICE candidate:', err);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <h1 className=\"text-2xl font-bold mb-4\">Live Viewer</h1>\r\n      <video ref={videoRef} autoPlay controls className=\"w-full max-w-3xl border rounded\" />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AAAA;AAFA;;;;AAIe,SAAS;IACtB,MAAM,SAAS,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAO;IAC3B,MAAM,KAAK,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAA4B;IAC5C,MAAM,WAAW,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAoB;IAE1C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,OAAO,OAAO,GAAG,CAAA,GAAA,wLAAA,CAAA,UAAE,AAAD,EAAE;QAEpB,OAAO,OAAO,CAAC,EAAE,CAAC,SAAS,OAAO;YAChC,GAAG,OAAO,GAAG,IAAI;YAEjB,GAAG,OAAO,CAAC,OAAO,GAAG,CAAC;gBACpB,IAAI,SAAS,OAAO,EAAE,SAAS,OAAO,CAAC,SAAS,GAAG,MAAM,OAAO,CAAC,EAAE;YACrE;YAEA,GAAG,OAAO,CAAC,cAAc,GAAG,CAAA;gBAC1B,IAAI,EAAE,SAAS,EAAE;oBACf,OAAO,OAAO,CAAC,IAAI,CAAC,iBAAiB,EAAE,SAAS;gBAClD;YACF;YAEA,MAAM,GAAG,OAAO,CAAC,oBAAoB,CAAC;YACtC,MAAM,SAAS,MAAM,GAAG,OAAO,CAAC,YAAY;YAC5C,MAAM,GAAG,OAAO,CAAC,mBAAmB,CAAC;YACrC,OAAO,OAAO,CAAC,IAAI,CAAC,UAAU;QAChC;QAEA,OAAO,OAAO,CAAC,EAAE,CAAC,iBAAiB,OAAO;YACxC,IAAI;gBACF,MAAM,GAAG,OAAO,EAAE,gBAAgB;YACpC,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,+BAA+B;YAC/C;QACF;IACF,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;0BACxC,8OAAC;gBAAM,KAAK;gBAAU,QAAQ;gBAAC,QAAQ;gBAAC,WAAU;;;;;;;;;;;;AAGxD","debugId":null}}]
}
{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ANKIT/Desktop/testing%20projects/screenshare/app/broadcaster/page.tsx"],"sourcesContent":["'use client';\r\nimport { useEffect, useRef } from 'react';\r\nimport io from 'socket.io-client';\r\n\r\nexport default function Broadcaster() {\r\n  const socket = useRef<any>(null);\r\n  const pc = useRef<RTCPeerConnection | null>(null);\r\n  const videoRef = useRef<HTMLVideoElement>(null);\r\n\r\n  useEffect(() => {\r\n    socket.current = io('http://localhost:3001');\r\n  }, []);\r\n\r\n  const startBroadcast = async () => {\r\n    const stream = await navigator.mediaDevices.getDisplayMedia({ video: true, audio: true });\r\n    if (videoRef.current) videoRef.current.srcObject = stream;\r\n\r\n    pc.current = new RTCPeerConnection();\r\n    stream.getTracks().forEach(track => pc.current?.addTrack(track, stream));\r\n\r\n    pc.current.onicecandidate = e => {\r\n      if (e.candidate) {\r\n        socket.current.emit('ice-candidate', e.candidate);\r\n      }\r\n    };\r\n\r\n    const offer = await pc.current.createOffer();\r\n    await pc.current.setLocalDescription(offer);\r\n    socket.current.emit('offer', offer);\r\n\r\n    socket.current.on('answer', async (answer: RTCSessionDescriptionInit) => {\r\n      await pc.current?.setRemoteDescription(answer);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <h1 className=\"text-2xl font-bold mb-4\">Screen Broadcaster</h1>\r\n      <button\r\n        onClick={startBroadcast}\r\n        className=\"px-4 py-2 bg-green-600 text-white rounded mb-4\"\r\n      >\r\n        Start Broadcast\r\n      </button>\r\n      <video ref={videoRef} autoPlay muted className=\"w-full max-w-3xl border rounded\" />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AAAA;;;AAFA;;;AAIe,SAAS;;IACtB,MAAM,SAAS,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAO;IAC3B,MAAM,KAAK,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAA4B;IAC5C,MAAM,WAAW,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAoB;IAE1C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;iCAAE;YACR,OAAO,OAAO,GAAG,CAAA,GAAA,kLAAA,CAAA,UAAE,AAAD,EAAE;QACtB;gCAAG,EAAE;IAEL,MAAM,iBAAiB;QACrB,MAAM,SAAS,MAAM,UAAU,YAAY,CAAC,eAAe,CAAC;YAAE,OAAO;YAAM,OAAO;QAAK;QACvF,IAAI,SAAS,OAAO,EAAE,SAAS,OAAO,CAAC,SAAS,GAAG;QAEnD,GAAG,OAAO,GAAG,IAAI;QACjB,OAAO,SAAS,GAAG,OAAO,CAAC,CAAA;gBAAS;oBAAA,cAAA,GAAG,OAAO,cAAV,kCAAA,YAAY,QAAQ,CAAC,OAAO;;QAEhE,GAAG,OAAO,CAAC,cAAc,GAAG,CAAA;YAC1B,IAAI,EAAE,SAAS,EAAE;gBACf,OAAO,OAAO,CAAC,IAAI,CAAC,iBAAiB,EAAE,SAAS;YAClD;QACF;QAEA,MAAM,QAAQ,MAAM,GAAG,OAAO,CAAC,WAAW;QAC1C,MAAM,GAAG,OAAO,CAAC,mBAAmB,CAAC;QACrC,OAAO,OAAO,CAAC,IAAI,CAAC,SAAS;QAE7B,OAAO,OAAO,CAAC,EAAE,CAAC,UAAU,OAAO;gBAC3B;YAAN,QAAM,cAAA,GAAG,OAAO,cAAV,kCAAA,YAAY,oBAAoB,CAAC;QACzC;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAA0B;;;;;;0BACxC,6LAAC;gBACC,SAAS;gBACT,WAAU;0BACX;;;;;;0BAGD,6LAAC;gBAAM,KAAK;gBAAU,QAAQ;gBAAC,KAAK;gBAAC,WAAU;;;;;;;;;;;;AAGrD;GA3CwB;KAAA","debugId":null}}]
}